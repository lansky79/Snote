<!DOCTYPE html>
<html>
  <head>
    <title>语法测试</title>
  </head>
  <body>
    <div id="test">测试页面</div>
    <script>
      // 测试用户编辑相关的函数
      function testEditUser() {
        console.log("测试用户编辑功能");

        // 模拟用户数据
        var testUser = {
          id: "user_001",
          name: "张明",
          email: "zhangming@company.com",
          phone: "138****1234",
          department: "研发部",
          role: "项目经理",
          level: "高级",
          workload: 85,
          status: "active",
          joinDate: "2022-03-15",
          skills: ["项目管理", "产品规划", "团队协作", "风险控制"],
        };

        console.log("用户数据:", testUser);

        // 测试验证函数
        console.log("姓名验证:", validateName("张明"));
        console.log("邮箱验证:", validateEmail("test@example.com"));
        console.log("电话验证:", validatePhone("13812345678"));
        console.log("职位验证:", validateRole("项目经理"));
        console.log("工作负载验证:", validateWorkload("85"));
      }

      // 验证函数
      function validateName(name) {
        if (!name || name.trim().length === 0) {
          return false;
        }
        if (name.trim().length < 2) {
          return false;
        }
        if (name.trim().length > 20) {
          return false;
        }
        var nameRegex = /^[\u4e00-\u9fa5a-zA-Z\s]+$/;
        if (!nameRegex.test(name.trim())) {
          return false;
        }
        return true;
      }

      function validateEmail(email) {
        if (!email || email.trim().length === 0) {
          return false;
        }
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email.trim())) {
          return false;
        }
        return true;
      }

      function validatePhone(phone) {
        if (!phone || phone.trim().length === 0) {
          return false;
        }
        var phoneRegex =
          /^(1[3-9]\d{9}|(\d{3,4}[-\s]?)?\d{7,8}|\d{3}\*{4}\d{4})$/;
        if (!phoneRegex.test(phone.trim().replace(/\s+/g, ""))) {
          return false;
        }
        return true;
      }

      function validateRole(role) {
        if (!role || role.trim().length === 0) {
          return false;
        }
        if (role.trim().length < 2) {
          return false;
        }
        if (role.trim().length > 30) {
          return false;
        }
        return true;
      }

      function validateWorkload(workload) {
        if (workload === "" || workload === null || workload === undefined) {
          return true;
        }
        var workloadNum = parseInt(workload);
        if (isNaN(workloadNum) || workloadNum < 0 || workloadNum > 100) {
          return false;
        }
        return true;
      }

      // 页面加载后执行测试
      document.addEventListener("DOMContentLoaded", function () {
        testEditUser();
      });
    </script>
  </body>
</html>
